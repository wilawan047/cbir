{% extends "_admin_layout.html" %}

{% block title %}Add New User{% endblock %}

{% block content %}
<style>
    body { 
        font-family: 'Kanit', sans-serif;
        background: linear-gradient(135deg, #f6f8fc 0%, #f1f5f9 100%);
    }
</style>
<main class="flex-1 p-8">
    <!-- Top Bar -->
    <div class="flex justify-between items-center mb-8">
        <div>
            <h1 class="text-3xl font-bold text-gray-900 mb-1">เพิ่มผู้ใช้งาน</h1>
            <div class="text-gray-500 text-base">สร้างบัญชีผู้ใช้งานใหม่</div>
        </div>
        <a href="{{ url_for('admin_users') }}" class="inline-flex items-center px-4 py-2 bg-blue-600 text-white-200 rounded-lg hover:bg-blue-700 transition duration-150 ease-in-out">
            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/>
            </svg>
            กลับหน้าจัดการผู้ใช้งาน
        </a>
    </div>

    <!-- Form -->
    <div class="bg-white rounded-2xl shadow-sm p-6 border border-gray-200">
        <form method="POST" action="{{ url_for('admin_add_user') }}" class="space-y-6">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Left Column -->
                <div class="space-y-6">
                    <!-- First Name -->
                    <div>
                        <label for="first_name" class="block text-sm font-medium text-gray-700 mb-1">ชื่อ</label>
                        <input type="text" name="first_name" id="first_name" required
                               class="w-full px-4 py-2 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition">
                    </div>

                    <!-- Last Name -->
                    <div>
                        <label for="last_name" class="block text-sm font-medium text-gray-700 mb-1">นามสกุล</label>
                        <input type="text" name="last_name" id="last_name" required
                               class="w-full px-4 py-2 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition">
                    </div>

                    <!-- Email -->
                    <div>
                        <label for="email" class="block text-sm font-medium text-gray-700 mb-1">อีเมล</label>
                        <input type="email" name="email" id="email" required
                               class="w-full px-4 py-2 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition">
                    </div>
                </div>

                <!-- Right Column -->
                <div class="space-y-6">
                    <!-- Username -->
                    <div>
                        <label for="username" class="block text-sm font-medium text-gray-700 mb-1">ชื่อผู้ใช้งาน</label>
                        <input type="text" name="username" id="username" required
                               class="w-full px-4 py-2 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition">
                    </div>

                    <!-- Password -->
                    <div>
                        <label for="password" class="block text-sm font-medium text-gray-700 mb-1">รหัสผ่าน</label>
                        <input type="password" name="password" id="password" required
                               class="w-full px-4 py-2 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition">
                    </div>

                    <!-- Status -->
                    <div>
                        <label for="status" class="block text-sm font-medium text-gray-700 mb-1">สถานะ</label>
                        <select id="status" name="status" required
                                class="w-full px-4 py-2 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition">
                            <option value="active" selected>เปิดใช้งาน</option>
                            <option value="inactive">ปิดใช้งาน</option>
                        </select>
                    </div>

                    <!-- Role (only for super admin) -->
                    {% if is_super_admin %}
                    <div>
                        <label for="role" class="block text-sm font-medium text-gray-700 mb-1">บทบาท</label>
                        <select id="role" name="role" required
                                class="w-full px-4 py-2 bg-gray-50 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition">
                            <option value="admin">ผู้ดูแลระบบ</option>
                            <option value="superadmin">ผู้ดูแลระบบหลัก</option>
                        </select>
                    </div>
                    {% else %}
                    <input type="hidden" name="role" value="admin">
                    {% endif %}
                </div>
            </div>

            <!-- Submit Button -->
            <div class="flex justify-end pt-4">
                <button type="submit"
                        class="px-6 py-2 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition">
                    สร้างผู้ใช้งาน
                </button>
            </div>
        </form>
    </div>
</main>
{% endblock %} 